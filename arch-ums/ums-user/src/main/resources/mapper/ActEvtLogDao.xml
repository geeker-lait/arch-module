<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.code.demo.dao.ActEvtLogDao">

    <resultMap id="BaseResultMap" type="org.code.demo.entity.ActEvtLog">
        <!--@Table act_evt_log-->
        <result property="logNr_" column="LOG_NR_" jdbcType="INTEGER"/>
        <result property="type_" column="TYPE_" jdbcType="VARCHAR"/>
        <result property="procDefId_" column="PROC_DEF_ID_" jdbcType="VARCHAR"/>
        <result property="procInstId_" column="PROC_INST_ID_" jdbcType="VARCHAR"/>
        <result property="executionId_" column="EXECUTION_ID_" jdbcType="VARCHAR"/>
        <result property="taskId_" column="TASK_ID_" jdbcType="VARCHAR"/>
        <result property="timeStamp_" column="TIME_STAMP_" jdbcType="OTHER"/>
        <result property="userId_" column="USER_ID_" jdbcType="VARCHAR"/>
        <result property="data_" column="DATA_" jdbcType="OTHER"/>
        <result property="lockOwner_" column="LOCK_OWNER_" jdbcType="VARCHAR"/>
        <result property="lockTime_" column="LOCK_TIME_" jdbcType="OTHER"/>
        <result property="isProcessed_" column="IS_PROCESSED_" jdbcType="OTHER"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="BaseResultMap">
        select
          LOG_NR_, TYPE_, PROC_DEF_ID_, PROC_INST_ID_, EXECUTION_ID_, TASK_ID_, TIME_STAMP_, USER_ID_, DATA_, LOCK_OWNER_, LOCK_TIME_, IS_PROCESSED_
        from activiti.act_evt_log
        where LOG_NR_ = #{logNr_}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="BaseResultMap">
        select
          LOG_NR_, TYPE_, PROC_DEF_ID_, PROC_INST_ID_, EXECUTION_ID_, TASK_ID_, TIME_STAMP_, USER_ID_, DATA_, LOCK_OWNER_, LOCK_TIME_, IS_PROCESSED_
        from activiti.act_evt_log
        limit #{offset}, #{limit}
    </select>

    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="BaseResultMap">
        select
          LOG_NR_, TYPE_, PROC_DEF_ID_, PROC_INST_ID_, EXECUTION_ID_, TASK_ID_, TIME_STAMP_, USER_ID_, DATA_, LOCK_OWNER_, LOCK_TIME_, IS_PROCESSED_
        from activiti.act_evt_log
        <where>
            <if test="logNr_ != null">
                and LOG_NR_ = #{logNr_}
            </if>
            <if test="type_ != null and type_ != ''">
                and TYPE_ = #{type_}
            </if>
            <if test="procDefId_ != null and procDefId_ != ''">
                and PROC_DEF_ID_ = #{procDefId_}
            </if>
            <if test="procInstId_ != null and procInstId_ != ''">
                and PROC_INST_ID_ = #{procInstId_}
            </if>
            <if test="executionId_ != null and executionId_ != ''">
                and EXECUTION_ID_ = #{executionId_}
            </if>
            <if test="taskId_ != null and taskId_ != ''">
                and TASK_ID_ = #{taskId_}
            </if>
            <if test="timeStamp_ != null">
                and TIME_STAMP_ = #{timeStamp_}
            </if>
            <if test="userId_ != null and userId_ != ''">
                and USER_ID_ = #{userId_}
            </if>
            <if test="data_ != null">
                and DATA_ = #{data_}
            </if>
            <if test="lockOwner_ != null and lockOwner_ != ''">
                and LOCK_OWNER_ = #{lockOwner_}
            </if>
            <if test="lockTime_ != null">
                and LOCK_TIME_ = #{lockTime_}
            </if>
            <if test="isProcessed_ != null">
                and IS_PROCESSED_ = #{isProcessed_}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="logNr_" useGeneratedKeys="true">
        insert into activiti.act_evt_log(TYPE_, PROC_DEF_ID_, PROC_INST_ID_, EXECUTION_ID_, TASK_ID_, TIME_STAMP_, USER_ID_, DATA_, LOCK_OWNER_, LOCK_TIME_, IS_PROCESSED_)
        values (#{type_}, #{procDefId_}, #{procInstId_}, #{executionId_}, #{taskId_}, #{timeStamp_}, #{userId_}, #{data_}, #{lockOwner_}, #{lockTime_}, #{isProcessed_})
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update activiti.act_evt_log
        <set>
            <if test="type_ != null and type_ != ''">
                TYPE_ = #{type_},
            </if>
            <if test="procDefId_ != null and procDefId_ != ''">
                PROC_DEF_ID_ = #{procDefId_},
            </if>
            <if test="procInstId_ != null and procInstId_ != ''">
                PROC_INST_ID_ = #{procInstId_},
            </if>
            <if test="executionId_ != null and executionId_ != ''">
                EXECUTION_ID_ = #{executionId_},
            </if>
            <if test="taskId_ != null and taskId_ != ''">
                TASK_ID_ = #{taskId_},
            </if>
            <if test="timeStamp_ != null">
                TIME_STAMP_ = #{timeStamp_},
            </if>
            <if test="userId_ != null and userId_ != ''">
                USER_ID_ = #{userId_},
            </if>
            <if test="data_ != null">
                DATA_ = #{data_},
            </if>
            <if test="lockOwner_ != null and lockOwner_ != ''">
                LOCK_OWNER_ = #{lockOwner_},
            </if>
            <if test="lockTime_ != null">
                LOCK_TIME_ = #{lockTime_},
            </if>
            <if test="isProcessed_ != null">
                IS_PROCESSED_ = #{isProcessed_},
            </if>
        </set>
        where LOG_NR_ = #{logNr_}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from activiti.act_evt_log where LOG_NR_ = #{logNr_}
    </delete>

</mapper>